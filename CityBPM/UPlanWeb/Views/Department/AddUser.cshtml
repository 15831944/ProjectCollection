@using TongJi.Web.Security
@model Position
@{
    List<UserProfile> allUsers = ViewBag.AllUsers;
}

@if (ViewBag.id == 0)
{
    @: 无法向〈根部门〉添加人员。
}
else
{
    using (Html.BeginForm())
    {
    <fieldset>
        <legend>人员信息</legend>
        <div>
            @Html.LabelFor(model => model.Username)
            @Html.DropDownListFor(model => model.Username, TongJi.Web.Forms.FormManager.SelectList(allUsers.ToDictionary(x => x.UserName, x => x.DisplayName), null))
            @Html.ValidationMessageFor(model => model.Username)
        </div>
        <div>
            @Html.LabelFor(model => model.Title)
            @Html.TextBoxFor(model => model.Title)
            @Html.ValidationMessageFor(model => model.Title)
        </div>
        <div>
            @Html.LabelFor(model => model.IsInCharge)
            @Html.CheckBoxFor(model => model.IsInCharge)
            @Html.ValidationMessageFor(model => model.IsInCharge)
        </div>
        <div>
            @MyHelpers.SubmitButton("添加")
        </div>
    </fieldset>
    }
}